# 安新联系功能说明

## 功能概述

"安新联系"功能为暖心地图小程序新增的便民服务模块，主要包含两个部分：

1. **居委会和服务中心** - 显示7个社区服务中心的详细信息
2. **紧急联系** - 提供8个紧急联系电话，支持一键拨打

## 功能特点

### 1. 居委会和服务中心
- 显示服务中心名称、地址、联系电话
- 点击卡片进入详情页面
- 详情页面支持导航和拨打电话功能
- 与暖心地图的站点详情页面风格保持一致

### 2. 紧急联系
- 显示8个紧急联系电话
- 每个电话都有功能描述
- 点击卡片直接拨打电话
- 包含温馨提示信息

## 页面结构

### 主要页面
1. **contact** - 安新联系主页面
2. **contact-detail** - 服务中心详情页面  
3. **emergency-contact** - 紧急联系页面

### 数据库集合
1. **service_center** - 服务中心数据
2. **emergency_contact** - 紧急联系数据

## 数据库结构

### service_center 集合
```json
{
  "_id": "center_1",
  "id": 1,
  "name": "安亭镇社区服务中心",
  "address": "上海市嘉定区安亭镇新源路100号",
  "phone": "021-59579999",
  "serviceTime": "周一至周五 8:30-17:00",
  "serviceContent": "社区服务、便民服务、政策咨询",
  "latitude": 121.217424,
  "longitude": 31.314409,
  "type": "service_center"
}
```

### emergency_contact 集合
```json
{
  "_id": "emergency_1",
  "id": 1,
  "name": "安亭镇派出所",
  "phone": "021-59571110",
  "description": "负责安亭镇治安管理、案件处理",
  "type": "emergency_contact"
}
```

## 使用方法

### 1. 在地图页面
- 点击右上角的"安新联系"按钮
- 进入安新联系主页面

### 2. 在安新联系页面
- 查看7个服务中心的卡片列表
- 点击任意服务中心卡片进入详情页面
- 点击底部的"紧急联系"卡片进入紧急联系页面

### 3. 在服务中心详情页面
- 查看服务中心的详细信息
- 点击"导航到这里"按钮进行导航
- 点击"拨打电话"按钮或电话号码直接拨打电话

### 4. 在紧急联系页面
- 查看8个紧急联系电话
- 点击任意卡片直接拨打电话
- 系统会弹出确认对话框

## 样式特点

- 保持与小程序整体风格一致
- 使用卡片式设计，清晰易读
- 蓝色主题的"安新联系"按钮
- 红色主题的紧急联系按钮
- 响应式设计，适配不同屏幕

## 技术实现

- 使用微信云开发数据库
- 复用现有的数据库查询方法
- 支持异步数据加载
- 包含错误处理和加载状态
- 支持电话拨打和地图导航功能

## 注意事项

1. 需要在微信云开发数据库中创建相应的集合
2. 确保电话号码格式正确
3. 经纬度信息用于导航功能
4. 建议在正式环境中添加数据验证
5. 可以根据实际需求调整服务中心和紧急联系的数量
