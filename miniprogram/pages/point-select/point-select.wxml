<!--point-select.wxml-->
<navigation-bar title="é€‰æ‹©åœ°ç‚¹" back="{{true}}" color="white" background="transparent"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <!-- æœç´¢åŒºåŸŸ -->
    <view class="search-section">
      <view class="search-box">
        <input class="search-input" placeholder="æœç´¢åœ°ç‚¹..." value="{{searchKeyword}}" bind:input="onSearchInput" />
        <view class="search-icon">ğŸ”</view>
      </view>
    </view>

    <!-- åœ°ç‚¹åˆ—è¡¨åŒºåŸŸ -->
    <view class="point-list-section">
      <view class="category-tabs">
        <view wx:for="{{categories}}" wx:key="key" class="tab-item {{selectedCategory === item.key ? 'active' : ''}}" bindtap="selectCategory" data-category="{{item.key}}">
          <text class="tab-text">{{item.name}}</text>
        </view>
      </view>

      <!-- åŠ è½½çŠ¶æ€ -->
      <view wx:if="{{loading}}" class="loading-state">
        <text class="loading-text">æ­£åœ¨åŠ è½½ç‚¹ä½æ•°æ®...</text>
      </view>

      <!-- ç‚¹ä½åˆ—è¡¨ -->
      <scroll-view wx:else class="points-container" scroll-y enhanced show-scrollbar="{{false}}" fast-deceleration="{{true}}" bounces="{{true}}" paging-enabled="{{false}}">
        <view wx:for="{{filteredPoints}}" wx:key="id" class="point-item" bindtap="selectPoint" data-point="{{item}}" hover-class="point-item-hover">
          <view class="point-info">
            <text class="point-name">{{item.name}}</text>
            <text class="point-category">{{item.categoryName}}</text>
            <text class="point-address" wx:if="{{item.address}}">{{item.address}}</text>
            <text class="point-service" wx:if="{{item.serviceTime}}">æœåŠ¡æ—¶é—´ï¼š{{item.serviceTime}}</text>
          </view>
          <view class="point-select">
            <text class="select-text">é€‰æ‹©</text>
          </view>
        </view>
        
        <!-- ç©ºçŠ¶æ€ -->
        <view wx:if="{{filteredPoints.length === 0 && !loading}}" class="empty-state">
          <text class="empty-text">æš‚æ— åŒ¹é…çš„åœ°ç‚¹</text>
        </view>
      </scroll-view>
    </view>
  </view>
</scroll-view>
